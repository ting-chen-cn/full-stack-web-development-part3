{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Filter.js","services/note.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","newNumber","handelNumberChange","handlePersonChange","onSubmit","value","onChange","type","Persons","searchedPerson","handelDelete","map","note","i","key","name","number","onClick","id","Filter","newSearchPerson","handleSearchPerson","baseUrl","out","getAll","axios","get","then","response","data","create","newObject","post","deleteOf","delete","update","put","Notification","message","className","ErrorNotification","errorMessage","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchPerson","setSearched","setMessage","setErrorMessage","useEffect","noteService","initialNotes","event","target","result","filter","w","toLowerCase","includes","preventDefault","noteObject","pos","find","n","undefined","changedNote","add","concat","setTimeout","window","confirm","returnedNote","changed","Person","deletePerson","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2331a78d.chunk.js","sourcesContent":["import React from 'react'\nconst PersonForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  handelNumberChange,\n  handlePersonChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name:{' '}\n          <input value={newName} onChange={handlePersonChange} />\n        </div>\n        <div>\n          number:{' '}\n          <input value={newNumber} onChange={handelNumberChange} />\n        </div>\n        <div>\n          <button type='submit'>add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\nexport default PersonForm\n","import React from 'react'\nconst Persons = ({ searchedPerson, handelDelete }) => {\n  return (\n    <div>\n      <ul>\n        {searchedPerson.map((note, i) => (\n          <li key={note.name}>\n            {note.name}&nbsp;{note.number}\n            <button onClick={() => handelDelete(note.id)}>\n              delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default Persons\n","import React from 'react'\nconst Filter = ({ newSearchPerson, handleSearchPerson }) => {\n  return (\n    <div>\n      <>\n        filter shown with{' '}\n        <input\n          value={newSearchPerson}\n          onChange={handleSearchPerson}\n        />\n      </>\n    </div>\n  )\n}\n\nexport default Filter\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst deleteOf = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nlet out = { getAll, create, deleteOf, update }\nexport default out\n","import React from 'react'\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return <div className='notification'>{message}</div>\n}\nexport default Notification\n","import React from 'react'\nconst ErrorNotification = ({ errorMessage }) => {\n  if (errorMessage === null) {\n    return null\n  }\n  return <div className='errorNotification'>{errorMessage}</div>\n}\nexport default ErrorNotification\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Person'\nimport Filter from './components/Filter'\nimport noteService from './services/note'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearchPerson, setSearchPerson] = useState('')\n  const [searchedPerson, setSearched] = useState(persons)\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  useEffect(() => {\n    noteService.getAll().then((initialNotes) => {\n      setPersons(initialNotes)\n      setSearched(initialNotes)\n    })\n  }, [])\n  const addPerson = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      name: newName,\n      number: newNumber,\n    }\n    const pos = persons.find((n) => n.name === `${newName}`)\n    if (pos === undefined) {\n      noteService.create(noteObject).then((changedNote) => {\n        const add = persons.concat(changedNote)\n        setPersons(add)\n        setNewName('')\n        setNewNumber('')\n        const result = add.filter((w) =>\n          w.name.toLowerCase().includes(newSearchPerson.toLowerCase())\n        )\n        setSearched(result)\n        setMessage(`Added ${newName}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n    } else {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        noteService\n          .update(pos.id, noteObject)\n          .then((returnedNote) => {\n            const changed = persons.map((note) =>\n              note.id !== pos.id ? note : returnedNote\n            )\n            setPersons(changed)\n            setNewName('')\n            setNewNumber('')\n            const result = changed.filter((w) =>\n              w.name\n                .toLowerCase()\n                .includes(newSearchPerson.toLowerCase())\n            )\n            setSearched(result)\n            setMessage(`Added  ${newName}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handelNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearchPerson = (event) => {\n    setSearchPerson(event.target.value)\n    let result = persons.filter((w) =>\n      w.name.toLowerCase().includes(event.target.value.toLowerCase())\n    )\n    setSearched(result)\n  }\n\n  const handleDeleteOf = (id) => {\n    const deletePerson = persons.find((n) => n.id === id)\n    if (window.confirm(`Delete ${deletePerson.name} ?`)) {\n      noteService\n        .deleteOf(id)\n        .then(() => {\n          setPersons(persons.filter((n) => n.id !== id))\n          setSearched(persons.filter((n) => n.id !== id))\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Information of ${deletePerson.name} has already been removed from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorNotification errorMessage={errorMessage} />\n      <Filter\n        newSearchPerson={newSearchPerson}\n        handleSearchPerson={handleSearchPerson}\n      />\n      <h3>add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handelNumberChange={handelNumberChange}\n        handlePersonChange={handlePersonChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        searchedPerson={searchedPerson}\n        handelDelete={handleDeleteOf}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}