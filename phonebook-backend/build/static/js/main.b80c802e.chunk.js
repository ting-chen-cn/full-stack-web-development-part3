(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){e.exports=t(55)},24:function(e,n,t){},25:function(e,n,t){},26:function(e,n,t){},52:function(e,n,t){},53:function(e,n,t){},55:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(6),o=t.n(c),u=t(3),l=(t(24),function(e){var n=e.addPerson,t=e.newName,a=e.newNumber,c=e.handelNumberChange,o=e.handlePersonChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"name",value:t,onChange:o})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"phone number",value:a,onChange:c})),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"submit"},"submit"))))}),i=(t(25),function(e){var n=e.searchedPerson,t=e.handelDelete;return r.a.createElement("table",null,r.a.createElement("tr",{id:"tableHeader"},r.a.createElement("th",null,"name"),r.a.createElement("th",null,"phone number"),r.a.createElement("th",null)),n.map((function(e,n){return r.a.createElement("tr",{id:"tableContext",key:e.name},r.a.createElement("th",null,e.name),r.a.createElement("th",null,e.number),r.a.createElement("th",null,r.a.createElement("button",{onClick:function(){return t(e.id)}},"delete")))})))}),m=t(16),s=t.n(m),d=(t(26),function(e){var n=e.newSearchPerson,t=e.handleSearchPerson;return r.a.createElement("div",{className:"search"},r.a.createElement(s.a,{className:"searchIcon"}),r.a.createElement("input",{placeholder:"filter shown with",className:"search_input",value:n,onChange:t}))}),f=t(4),h=t.n(f),b="/api/persons",E={getAll:function(){return h.a.get(b).then((function(e){return e.data}))},create:function(e){return h.a.post(b,e).then((function(e){return e.data}))},deleteOf:function(e){return h.a.delete("".concat(b,"/").concat(e))},update:function(e,n){return h.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))}},p=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"notification"},n)},v=function(e){var n=e.errorMessage;return null===n?null:r.a.createElement("div",{className:"errorNotification"},n)},w=(t(52),function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),m=Object(u.a)(o,2),s=m[0],f=m[1],h=Object(a.useState)(""),b=Object(u.a)(h,2),w=b[0],g=b[1],O=Object(a.useState)(""),j=Object(u.a)(O,2),C=j[0],N=j[1],S=Object(a.useState)(t),P=Object(u.a)(S,2),k=P[0],L=P[1],y=Object(a.useState)(null),A=Object(u.a)(y,2),T=A[0],D=A[1],I=Object(a.useState)(null),x=Object(u.a)(I,2),F=x[0],J=x[1];Object(a.useEffect)((function(){E.getAll().then((function(e){c(e),L(e)}))}),[]);return r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Phonebook"),r.a.createElement(p,{message:T}),r.a.createElement(v,{errorMessage:F}),r.a.createElement(d,{className:"Filter",newSearchPerson:C,handleSearchPerson:function(e){N(e.target.value);var n=t.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())}));L(n)}}),r.a.createElement("h3",null,"add a new"),r.a.createElement(l,{addPerson:function(e){e.preventDefault();var n={name:s,number:w},a=t.find((function(e){return e.name==="".concat(s)}));void 0===a?E.create(n).then((function(e){var n=t.concat(e);c(n),f(""),g("");var a=n.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}));L(a),D("Added ".concat(s)),setTimeout((function(){D(null)}),5e3)})).catch((function(e){J(e.response.data.error),setTimeout((function(){J(null)}),5e3)})):window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))&&E.update(a.id,n).then((function(e){var n=t.map((function(n){return n.id!==a.id?n:e}));c(n),f(""),g("");var r=n.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}));L(r),D("Added  ".concat(s)),setTimeout((function(){D(null)}),5e3)})).catch((function(e){J(e.response.data.error),setTimeout((function(){J(null)}),5e3)}))},newName:s,newNumber:w,handelNumberChange:function(e){g(e.target.value)},handlePersonChange:function(e){f(e.target.value)}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(i,{searchedPerson:k,handelDelete:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name," ?"))&&E.deleteOf(e).then((function(){c(t.filter((function(n){return n.id!==e}))),L(t.filter((function(n){return n.id!==e})))})).catch((function(e){J("Information of ".concat(n.name," has already been removed from server")),setTimeout((function(){J(null)}),5e3)}))}}))});t(53);o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b80c802e.chunk.js.map