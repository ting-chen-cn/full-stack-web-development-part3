{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Filter.js","services/note.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","newNumber","handelNumberChange","handlePersonChange","onSubmit","placeholder","value","onChange","type","Persons","searchedPerson","handelDelete","id","map","note","i","key","name","number","onClick","Filter","newSearchPerson","handleSearchPerson","className","baseUrl","out","getAll","axios","get","then","response","data","create","newObject","post","deleteOf","delete","update","put","Notification","message","ErrorNotification","errorMessage","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchPerson","setSearched","setMessage","setErrorMessage","useEffect","personService","initialNotes","event","target","result","filter","w","toLowerCase","includes","preventDefault","noteObject","pos","find","n","undefined","changedNote","add","concat","setTimeout","catch","error","window","confirm","returnedNote","changed","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"sSAyBeA,G,MAvBI,SAAC,GAMb,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,mBACAC,EACI,EADJA,mBAEA,OACE,6BACE,0BAAMC,SAAUL,GACd,6BACE,2BAAOM,YAAY,OAAOC,MAAON,EAASO,SAAUJ,KAEtD,6BACE,2BAAOE,YAAY,eAAeC,MAAOL,EAAWM,SAAUL,KAEhE,oCACE,4BAAQM,KAAK,UAAb,eCMKC,G,MAvBC,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,eAAgBC,EAAmB,EAAnBA,aACjC,OACE,+BACE,wBAAIC,GAAG,eACL,oCACA,4CACA,8BAECF,EAAeG,KAAI,SAACC,EAAMC,GAAP,OAClB,wBAAIH,GAAG,eAAeI,IAAKF,EAAKG,MAC9B,4BAAKH,EAAKG,MACV,4BAAKH,EAAKI,QACV,4BACE,4BAAQC,QAAS,kBAAMR,EAAaG,EAAKF,MAAzC,kB,iBCICQ,G,MAhBA,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,gBAAiBC,EAAyB,EAAzBA,mBACjC,OAEI,yBAAKC,UAAU,UACb,kBAAC,IAAD,CAAYA,UAAU,eACtB,2BACElB,YAAY,oBACZkB,UAAU,eACVjB,MAAOe,EACPd,SAAUe,O,gBCXdE,EAAU,eAsBDC,EADL,CAAEC,OAnBG,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAACC,GAAD,OAAcA,EAASC,SAiBzBC,OAdL,SAACC,GAEd,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAACC,GAAD,OAAcA,EAASC,SAYjBI,SATX,SAACvB,GAChB,OAAOe,IAAMS,OAAN,UAAgBZ,EAAhB,YAA2BZ,KAQEyB,OALvB,SAACzB,EAAIqB,GAElB,OADgBN,IAAMW,IAAN,UAAad,EAAb,YAAwBZ,GAAMqB,GAC/BJ,MAAK,SAACC,GAAD,OAAcA,EAASC,UCZ9BQ,EANM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAEF,yBAAKjB,UAAU,gBAAgBiB,ICEzBC,EANW,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAC3B,OAAqB,OAAjBA,EACK,KAEF,yBAAKnB,UAAU,qBAAqBmB,ICkJ9BC,G,MA9IH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAET5C,EAFS,KAEA+C,EAFA,OAGkBH,mBAAS,IAH3B,mBAGT3C,EAHS,KAGE+C,EAHF,OAI2BJ,mBAAS,IAJpC,mBAITvB,EAJS,KAIQ4B,EAJR,OAKsBL,mBAASC,GAL/B,mBAKTnC,EALS,KAKOwC,EALP,OAMcN,mBAAS,MANvB,mBAMTJ,EANS,KAMAW,EANA,OAOwBP,mBAAS,MAPjC,mBAOTF,EAPS,KAOKU,EAPL,KAQhBC,qBAAU,WACRC,EAAc5B,SAASG,MAAK,SAAC0B,GAC3BT,EAAWS,GACXL,EAAYK,QAEb,IAuGH,OACE,yBAAKhC,UAAU,OACb,yCACA,kBAAC,EAAD,CAAciB,QAASA,IACvB,kBAAC,EAAD,CAAmBE,aAAcA,IACjC,kBAAC,EAAD,CAAQnB,UAAU,SAChBF,gBAAiBA,EACjBC,mBAnCqB,SAACkC,GAC1BP,EAAgBO,EAAMC,OAAOnD,OAC7B,IAAIoD,EAASb,EAAQc,QAAO,SAACC,GAAD,OAC1BA,EAAE3C,KAAK4C,cAAcC,SAASN,EAAMC,OAAOnD,MAAMuD,kBAEnDX,EAAYQ,MAgCV,yCACA,kBAAC,EAAD,CACE3D,UAjHY,SAACyD,GACjBA,EAAMO,iBACN,IAAMC,EAAa,CACjB/C,KAAMjB,EACNkB,OAAQjB,GAEJgE,EAAMpB,EAAQqB,MAAK,SAACC,GAAD,OAAOA,EAAElD,OAAF,UAAcjB,WAClCoE,IAARH,EACFX,EACGtB,OAAOgC,GACPnC,MAAK,SAACwC,GACL,IAAMC,EAAMzB,EAAQ0B,OAAOF,GAC3BvB,EAAWwB,GACXvB,EAAW,IACXC,EAAa,IACb,IAAMU,EAASY,EAAIX,QAAO,SAACC,GAAD,OACxBA,EAAE3C,KACC4C,cACAC,SAASzC,EAAgBwC,kBAE9BX,EAAYQ,GACZP,EAAW,SAAD,OAAUnD,IACpBwE,YAAW,WACTrB,EAAW,QACV,QAEJsB,OAAM,SAACC,GACNtB,EAAgBsB,EAAM5C,SAASC,KAAK2C,OACpCF,YAAW,WACTpB,EAAgB,QACf,QAILuB,OAAOC,QAAP,UACK5E,EADL,4EAIAsD,EACGjB,OAAO4B,EAAIrD,GAAIoD,GACfnC,MAAK,SAACgD,GACL,IAAMC,EAAUjC,EAAQhC,KAAI,SAACC,GAAD,OAC1BA,EAAKF,KAAOqD,EAAIrD,GAAKE,EAAO+D,KAE9B/B,EAAWgC,GACX/B,EAAW,IACXC,EAAa,IACb,IAAMU,EAASoB,EAAQnB,QAAO,SAACC,GAAD,OAC5BA,EAAE3C,KACC4C,cACAC,SAASzC,EAAgBwC,kBAE9BX,EAAYQ,GACZP,EAAW,UAAD,OAAWnD,IACrBwE,YAAW,WACTrB,EAAW,QACV,QAEJsB,OAAM,SAACC,GACNtB,EAAgBsB,EAAM5C,SAASC,KAAK2C,OACpCF,YAAW,WACTpB,EAAgB,QACf,SAoDPpD,QAASA,EACTC,UAAWA,EACXC,mBA7CqB,SAACsD,GAC1BR,EAAaQ,EAAMC,OAAOnD,QA6CtBH,mBAjDqB,SAACqD,GAC1BT,EAAWS,EAAMC,OAAOnD,UAkDtB,uCACA,kBAAC,EAAD,CACEI,eAAgBA,EAChBC,aAxCiB,SAACC,GACtB,IAAMmE,EAAelC,EAAQqB,MAAK,SAACC,GAAD,OAAOA,EAAEvD,KAAOA,KAC9C+D,OAAOC,QAAP,iBAAyBG,EAAa9D,KAAtC,QACFqC,EACGnB,SAASvB,GACTiB,MAAK,WACJiB,EAAWD,EAAQc,QAAO,SAACQ,GAAD,OAAOA,EAAEvD,KAAOA,MAC1CsC,EAAYL,EAAQc,QAAO,SAACQ,GAAD,OAAOA,EAAEvD,KAAOA,SAE5C6D,OAAM,SAACC,GACNtB,EAAgB,kBAAD,OACK2B,EAAa9D,KADlB,0CAGfuD,YAAW,WACTpB,EAAgB,QACf,c,MCnHb4B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.b80c802e.chunk.js","sourcesContent":["import React from 'react'\nimport './PersonForm.css'\nconst PersonForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  handelNumberChange,\n  handlePersonChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          <input placeholder='name' value={newName} onChange={handlePersonChange} />\n        </div>\n        <div>\n          <input placeholder='phone number' value={newNumber} onChange={handelNumberChange} />\n        </div>\n        <>\n          <button type='submit'>submit</button>\n        </>\n      </form>\n    </div>\n  )\n}\nexport default PersonForm\n","import React from 'react'\nimport './Person.css'\nconst Persons = ({ searchedPerson, handelDelete }) => {\n  return (\n    <table>\n      <tr id='tableHeader'>\n        <th>name</th>\n        <th>phone number</th>\n        <th></th>\n      </tr>\n        {searchedPerson.map((note, i) => (\n          <tr id='tableContext' key={note.name}>\n            <th>{note.name}</th>\n            <th>{note.number}</th>\n            <th>\n              <button onClick={() => handelDelete(note.id)}>\n                delete\n              </button>\n            </th>\n          </tr>\n        ))}\n    </table>\n  )\n}\n\nexport default Persons\n","import React from 'react'\nimport SearchIcon from '@material-ui/icons/Search'\nimport './Filter.css'\nconst Filter = ({ newSearchPerson, handleSearchPerson }) => {\n  return (\n    \n      <div className=\"search\">\n        <SearchIcon className=\"searchIcon\"/>\n        <input\n          placeholder=\"filter shown with\"\n          className=\"search_input\"\n          value={newSearchPerson}\n          onChange={handleSearchPerson}\n        />\n      </div>\n    \n  )\n}\n\nexport default Filter\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst deleteOf = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nlet out = { getAll, create, deleteOf, update }\nexport default out\n","import React from 'react'\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return <div className='notification'>{message}</div>\n}\nexport default Notification\n","import React from 'react'\nconst ErrorNotification = ({ errorMessage }) => {\n  if (errorMessage === null) {\n    return null\n  }\n  return <div className='errorNotification'>{errorMessage}</div>\n}\nexport default ErrorNotification\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Person'\nimport Filter from './components/Filter'\nimport personService from './services/note'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\nimport './App.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearchPerson, setSearchPerson] = useState('')\n  const [searchedPerson, setSearched] = useState(persons)\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  useEffect(() => {\n    personService.getAll().then((initialNotes) => {\n      setPersons(initialNotes)\n      setSearched(initialNotes)\n    })\n  }, [])\n  const addPerson = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      name: newName,\n      number: newNumber,\n    }\n    const pos = persons.find((n) => n.name === `${newName}`)\n    if (pos === undefined) {\n      personService\n        .create(noteObject)\n        .then((changedNote) => {\n          const add = persons.concat(changedNote)\n          setPersons(add)\n          setNewName('')\n          setNewNumber('')\n          const result = add.filter((w) =>\n            w.name\n              .toLowerCase()\n              .includes(newSearchPerson.toLowerCase())\n          )\n          setSearched(result)\n          setMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    } else {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personService\n          .update(pos.id, noteObject)\n          .then((returnedNote) => {\n            const changed = persons.map((note) =>\n              note.id !== pos.id ? note : returnedNote\n            )\n            setPersons(changed)\n            setNewName('')\n            setNewNumber('')\n            const result = changed.filter((w) =>\n              w.name\n                .toLowerCase()\n                .includes(newSearchPerson.toLowerCase())\n            )\n            setSearched(result)\n            setMessage(`Added  ${newName}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch((error) => {\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handelNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearchPerson = (event) => {\n    setSearchPerson(event.target.value)\n    let result = persons.filter((w) =>\n      w.name.toLowerCase().includes(event.target.value.toLowerCase())\n    )\n    setSearched(result)\n  }\n\n  const handleDeleteOf = (id) => {\n    const deletePerson = persons.find((n) => n.id === id)\n    if (window.confirm(`Delete ${deletePerson.name} ?`)) {\n      personService\n        .deleteOf(id)\n        .then(() => {\n          setPersons(persons.filter((n) => n.id !== id))\n          setSearched(persons.filter((n) => n.id !== id))\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Information of ${deletePerson.name} has already been removed from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div className='App'>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorNotification errorMessage={errorMessage} />\n      <Filter className='Filter'\n        newSearchPerson={newSearchPerson}\n        handleSearchPerson={handleSearchPerson}\n      />\n      <h3>add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handelNumberChange={handelNumberChange}\n        handlePersonChange={handlePersonChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        searchedPerson={searchedPerson}\n        handelDelete={handleDeleteOf}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}